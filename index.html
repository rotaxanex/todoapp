<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#0f0f10" />
  <title>Mobile To-Do Cloud</title>
  
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

  <style>
    :root {
      --bg: #0f0f10; --card: #1c1c1e; --text: #f5f5f5; --muted: #8e8e93;
      --accent: #0a84ff; --danger: #ff453a; --success: #32d74b;
      --line: #2c2c2e;
      --nav-height: 80px; --header-height: 60px;
      --safe-top: env(safe-area-inset-top);
      --safe-bottom: env(safe-area-inset-bottom);
    }
    * { box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; -webkit-tap-highlight-color: transparent; }
    
    body { margin: 0; background: var(--bg); color: var(--text); height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

    /* --- LOGIN SCREEN --- */
    #auth-screen {
      position: fixed; inset: 0; z-index: 999; background: var(--bg);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      padding: 24px; gap: 16px;
    }
    input { background: var(--card); border: 1px solid var(--line); color: var(--text); padding: 12px; border-radius: 12px; width: 100%; font-size: 16px; outline: none; }
    .btn { background: var(--accent); color: white; border: none; padding: 12px 20px; border-radius: 12px; font-weight: 600; cursor: pointer; width: 100%; font-size: 16px; }
    .btn.secondary { background: var(--card); color: var(--accent); }

    /* --- APP LAYOUT --- */
    #app-screen { display: none; flex-direction: column; height: 100%; }
    
    header {
      height: calc(var(--header-height) + var(--safe-top));
      padding-top: var(--safe-top);
      display: flex; align-items: center; justify-content: space-between;
      padding-left: 16px; padding-right: 16px;
      border-bottom: 1px solid var(--line); background: rgba(15,15,16,0.95);
      backdrop-filter: blur(10px); position: relative; z-index: 50;
    }
    h1 { font-size: 18px; margin: 0; font-weight: 700; }
    
    main { flex: 1; overflow: hidden; position: relative; }
    
    .view {
      position: absolute; inset: 0; overflow-y: auto; overflow-x: hidden;
      padding: 16px; padding-bottom: calc(var(--nav-height) + var(--safe-bottom) + 80px); /* FAB space */
      display: none; opacity: 0; transition: opacity 0.2s;
    }
    .view.active { display: block; opacity: 1; }

    /* --- BOTTOM NAV --- */
    nav {
      height: calc(var(--nav-height) + var(--safe-bottom));
      padding-bottom: var(--safe-bottom);
      border-top: 1px solid var(--line);
      background: var(--card); display: grid; grid-template-columns: repeat(5, 1fr);
      position: fixed; bottom: 0; width: 100%; z-index: 100;
    }
    .nav-item {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      gap: 4px; color: var(--muted); font-size: 10px; border: none; background: transparent;
    }
    .nav-item.active { color: var(--accent); }
    .nav-icon { font-size: 20px; }

    /* --- FLOATING ACTION BUTTON --- */
    .fab {
      position: fixed; bottom: calc(var(--nav-height) + var(--safe-bottom) + 16px);
      right: 16px; width: 56px; height: 56px; border-radius: 50%;
      background: var(--accent); color: white; border: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
      font-size: 28px; display: grid; place-items: center; z-index: 90;
    }

    /* --- COMPONENTS --- */
    /* 1. Day View */
    .day-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
    .day-nav-btn { background: transparent; border: 1px solid var(--line); color: var(--text); width: 36px; height: 36px; border-radius: 10px; }
    .day-title { text-align: center; }
    .day-title h2 { margin: 0; font-size: 16px; }
    .day-title span { font-size: 12px; color: var(--muted); }

    /* Swipe Container */
    #day-container { min-height: 300px; touch-action: pan-y; }

    /* Cards */
    .task-card {
      background: var(--card); padding: 12px; border-radius: 14px; margin-bottom: 8px;
      display: flex; align-items: center; gap: 12px; border-left: 4px solid transparent;
    }
    .task-card.termin { border-left-color: #ff453a; }
    .task-card.hedef { border-left-color: #0a84ff; }
    .task-card.gorev { border-left-color: #32d74b; }
    .check-circle {
      width: 22px; height: 22px; border-radius: 50%; border: 2px solid var(--muted); flex-shrink: 0;
    }
    .task-card.done .check-circle { background: var(--muted); border-color: var(--muted); }
    .task-card.done .task-text { text-decoration: line-through; color: var(--muted); }
    .task-content { flex: 1; }
    .task-text { font-size: 15px; margin-bottom: 4px; }
    .task-meta { font-size: 11px; color: var(--muted); display: flex; gap: 8px; }
    .tag-badge { background: rgba(255,255,255,0.1); padding: 2px 6px; border-radius: 4px; }

    /* 2. Month View */
    .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; text-align: center; }
    .cal-head { font-size: 12px; color: var(--muted); padding: 8px 0; }
    .cal-cell {
      aspect-ratio: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
      background: var(--card); border-radius: 8px; font-size: 14px; position: relative;
    }
    .cal-cell.today { border: 1px solid var(--accent); }
    .cal-cell.has-task::after {
      content: ''; width: 4px; height: 4px; background: var(--accent); border-radius: 50%; position: absolute; bottom: 4px;
    }

    /* 3. Brain Dump */
    .inbox-list { margin-top: 10px; }

    /* 4. Habits */
    .habit-row {
      display: flex; justify-content: space-between; align-items: center;
      background: var(--card); padding: 16px; border-radius: 14px; margin-bottom: 8px;
    }
    .habit-days { display: flex; gap: 4px; }
    .habit-day { width: 8px; height: 8px; border-radius: 50%; background: #333; }
    .habit-day.active { background: var(--success); }

    /* Modal */
    #modal {
      position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 200;
      display: none; align-items: flex-end; justify-content: center;
    }
    .modal-content {
      background: #151516; width: 100%; border-radius: 20px 20px 0 0; padding: 24px;
      animation: slideUp 0.3s ease;
    }
    @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
    .modal-form { display: flex; flex-direction: column; gap: 12px; }
    select, input[type="date"], input[type="time"] {
      background: var(--card); color: white; border: 1px solid var(--line); padding: 12px; border-radius: 12px;
    }

  </style>
</head>
<body>

  <div id="auth-screen">
    <h1 style="font-size: 24px;">Minimal Cloud</h1>
    <input type="email" id="email" placeholder="E-posta adresi" />
    <input type="password" id="password" placeholder="≈ûifre" />
    <button class="btn" onclick="signIn()">Giri≈ü Yap</button>
    <button class="btn secondary" onclick="signUp()">Kayƒ±t Ol</button>
    <div id="auth-msg" style="color: var(--danger); font-size: 12px;"></div>
  </div>

  <div id="app-screen">
    <header>
      <h1 id="header-title">Bug√ºn</h1>
      <button class="nav-item" onclick="signOut()" style="width: auto;">√áƒ±kƒ±≈ü</button>
    </header>

    <main>
      <div id="view-day" class="view active">
        <div class="day-header">
          <button class="day-nav-btn" onclick="changeDay(-1)">‚óÄ</button>
          <div class="day-title">
            <h2 id="current-date-display">18 Ocak</h2>
            <span id="current-day-name">Pazar</span>
          </div>
          <button class="day-nav-btn" onclick="changeDay(1)">‚ñ∂</button>
        </div>
        <div id="day-container">
          </div>
      </div>

      <div id="view-month" class="view">
        <div class="day-header">
          <button class="day-nav-btn" onclick="changeMonth(-1)">‚óÄ</button>
          <h2 id="month-display">Ocak 2026</h2>
          <button class="day-nav-btn" onclick="changeMonth(1)">‚ñ∂</button>
        </div>
        <div class="calendar-grid" id="calendar-grid">
          </div>
      </div>

      <div id="view-inbox" class="view">
        <h2 style="font-size: 16px; color: var(--muted); margin-top:0;">Brain Dump</h2>
        <div id="inbox-list" class="inbox-list"></div>
      </div>

      <div id="view-habits" class="view">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <h2 style="font-size: 16px; margin:0;">Alƒ±≈ükanlƒ±klar</h2>
        </div>
        <div id="habits-list" style="margin-top:16px;"></div>
      </div>

      <div id="view-tags" class="view">
        <h2>Tag Y√∂netimi</h2>
        <div style="display:flex; gap:8px; margin-bottom:16px;">
          <input id="new-tag-name" placeholder="Yeni Tag..." />
          <input type="color" id="new-tag-color" value="#7dd3fc" style="width:50px; padding:0;" />
          <button class="btn" style="width:auto;" onclick="addTag()">+</button>
        </div>
        <div id="tags-list"></div>
      </div>
    </main>

    <button class="fab" onclick="openAddModal()">+</button>

    <nav>
      <button class="nav-item active" onclick="switchView('day', this)">
        <span class="nav-icon">üìÖ</span><span>G√ºn</span>
      </button>
      <button class="nav-item" onclick="switchView('month', this)">
        <span class="nav-icon">üóì</span><span>Ay</span>
      </button>
      <button class="nav-item" onclick="switchView('inbox', this)">
        <span class="nav-icon">üß†</span><span>Inbox</span>
      </button>
      <button class="nav-item" onclick="switchView('habits', this)">
        <span class="nav-icon">üî•</span><span>Alƒ±≈ük.</span>
      </button>
      <button class="nav-item" onclick="switchView('tags', this)">
        <span class="nav-icon">üè∑</span><span>Tag</span>
      </button>
    </nav>
  </div>

  <div id="modal">
    <div class="modal-content">
      <div class="modal-form">
        <h3 style="margin:0; margin-bottom:8px;">Yeni Ekle</h3>
        <input id="m-text" type="text" placeholder="Ne yapƒ±lacak?" />
        
        <div style="display:flex; gap:8px;">
          <select id="m-type" style="flex:1">
            <option value="gorev">G√∂rev</option>
            <option value="termin">Termin</option>
            <option value="hedef">Hedef</option>
          </select>
          <input id="m-time" type="time" style="width:100px;" />
        </div>

        <select id="m-tag"></select>

        <div style="display:flex; gap:8px;">
           <input id="m-date" type="date" style="flex:1" />
           <button class="btn" style="width:auto; background:var(--card);" onclick="document.getElementById('m-date').value=''">Inbox</button>
        </div>

        <div style="display:flex; gap:12px; margin-top:8px;">
          <button class="btn secondary" onclick="closeModal()">ƒ∞ptal</button>
          <button class="btn" onclick="saveTask()">Kaydet</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // --- SUPABASE AYARLARI ---
    const SUPABASE_URL = 'sb_publishable_IR67FHQQNsnA9aNMizaqUA_HYGC8cKM'; // BURAYI DOLDUR
    const SUPABASE_KEY = 'sb_secret_lnLPz5P2Q7u0UwDQChnU7Q_VWUzxWDi'; // BURAYI DOLDUR
    const supabase = showSupabaseWarning() ? null : window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    let session = null;
    let selectedDate = new Date(); // G√ºnl√ºk g√∂r√ºn√ºm i√ßin
    let selectedMonth = new Date(); // Aylƒ±k g√∂r√ºn√ºm i√ßin
    let currentView = 'day';
    let globalTags = [];

    // --- INIT ---
    function showSupabaseWarning() {
       if(SUPABASE_URL.includes('YOUR')) {
         alert('L√ºtfen HTML dosyasƒ±ndaki SUPABASE_URL ve SUPABASE_KEY alanlarƒ±nƒ± doldurunuz.');
         return true;
       }
       return false;
    }

    window.onload = async () => {
      if(!supabase) return;

      const { data } = await supabase.auth.getSession();
      session = data.session;
      toggleAuthUI();

      supabase.auth.onAuthStateChange((_event, _session) => {
        session = _session;
        toggleAuthUI();
        if (session) loadAllData();
      });
    };

    function toggleAuthUI() {
      if (session) {
        document.getElementById('auth-screen').style.display = 'none';
        document.getElementById('app-screen').style.display = 'flex';
        loadAllData();
      } else {
        document.getElementById('auth-screen').style.display = 'flex';
        document.getElementById('app-screen').style.display = 'none';
      }
    }

    // --- DATA LOADING ---
    async function loadAllData() {
      await fetchTags();
      if(currentView === 'day') renderDayView();
      if(currentView === 'month') renderMonthView();
      if(currentView === 'inbox') renderInboxView();
      if(currentView === 'habits') renderHabitsView();
      if(currentView === 'tags') renderTagsView();
    }

    async function fetchTags() {
      const { data } = await supabase.from('tags').select('*').order('list_order');
      globalTags = data || [];
      const select = document.getElementById('m-tag');
      select.innerHTML = '<option value="">Tag Yok</option>';
      globalTags.forEach(t => {
        const opt = document.createElement('option');
        opt.value = t.name; opt.textContent = t.name;
        select.appendChild(opt);
      });
    }

    // --- VIEW LOGIC ---
    function switchView(viewName, btn) {
      document.querySelectorAll('.view').forEach(el => el.classList.remove('active'));
      document.getElementById('view-' + viewName).classList.add('active');
      
      document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
      if(btn) btn.classList.add('active');

      currentView = viewName;
      
      // Ba≈ülƒ±k G√ºncelleme
      const titles = { day: 'Bug√ºn', month: 'Takvim', inbox: 'Brain Dump', habits: 'Alƒ±≈ükanlƒ±klar', tags: 'Ayarlar' };
      document.getElementById('header-title').textContent = titles[viewName];

      loadAllData(); // Veriyi tazelemek i√ßin
    }

    // --- 1. DAY VIEW & SWIPE LOGIC ---
    function formatDateKey(d) { return d.toISOString().split('T')[0]; }

    async function renderDayView() {
      const dateKey = formatDateKey(selectedDate);
      
      // UI Update
      const options = { weekday: 'long', month: 'long', day: 'numeric' };
      document.getElementById('current-date-display').textContent = selectedDate.toLocaleDateString('tr-TR', {day:'numeric', month:'long'});
      document.getElementById('current-day-name').textContent = selectedDate.toLocaleDateString('tr-TR', {weekday:'long'});

      // Fetch Tasks
      const { data: tasks, error } = await supabase
        .from('tasks')
        .select('*')
        .eq('target_date', dateKey)
        .order('is_done', { ascending: true }) // Yapƒ±lanlar alta
        .order('created_at', { ascending: true });

      const container = document.getElementById('day-container');
      container.innerHTML = '';

      if (tasks && tasks.length > 0) {
        tasks.forEach(task => container.appendChild(createTaskCard(task)));
      } else {
        container.innerHTML = '<div style="text-align:center; padding:20px; color:var(--muted)">Bug√ºn bo≈ü.</div>';
      }
    }

    function createTaskCard(task) {
      const div = document.createElement('div');
      div.className = `task-card ${task.type} ${task.is_done ? 'done' : ''}`;
      
      const tagObj = globalTags.find(t => t.name === task.tag);
      const tagColor = tagObj ? tagObj.color : 'transparent';
      
      div.innerHTML = `
        <div class="check-circle" onclick="toggleTask('${task.id}', ${!task.is_done})"></div>
        <div class="task-content">
          <div class="task-text">${task.text}</div>
          <div class="task-meta">
             ${task.time ? `<span>üïí ${task.time}</span>` : ''}
             ${task.tag ? `<span class="tag-badge" style="color:${tagColor}">#${task.tag}</span>` : ''}
          </div>
        </div>
        <button class="nav-item" onclick="deleteTask('${task.id}')" style="width:auto">üóë</button>
      `;
      return div;
    }

    async function toggleTask(id, newState) {
      await supabase.from('tasks').update({ is_done: newState }).eq('id', id);
      loadAllData();
    }

    async function deleteTask(id) {
      if(!confirm('Silinsin mi?')) return;
      await supabase.from('tasks').delete().eq('id', id);
      loadAllData();
    }

    function changeDay(delta) {
      selectedDate.setDate(selectedDate.getDate() + delta);
      renderDayView();
    }

    // Simple Swipe Detection for Day View
    let touchStartX = 0;
    const dayCont = document.getElementById('view-day');
    dayCont.addEventListener('touchstart', e => touchStartX = e.changedTouches[0].screenX);
    dayCont.addEventListener('touchend', e => {
      const touchEndX = e.changedTouches[0].screenX;
      if (touchEndX < touchStartX - 50) changeDay(1); // Swipe Left -> Next Day
      if (touchEndX > touchStartX + 50) changeDay(-1); // Swipe Right -> Prev Day
    });

    // --- 2. MONTH VIEW ---
    async function renderMonthView() {
      const y = selectedMonth.getFullYear(), m = selectedMonth.getMonth();
      document.getElementById('month-display').textContent = selectedMonth.toLocaleDateString('tr-TR', { month: 'long', year: 'numeric' });

      // O ayƒ±n g√∂revlerinin olduƒüu g√ºnleri √ßekelim (nokta koymak i√ßin)
      const startStr = new Date(y, m, 1).toISOString().split('T')[0];
      const endStr = new Date(y, m + 1, 0).toISOString().split('T')[0];
      
      const { data: busyDays } = await supabase.from('tasks').select('target_date').gte('target_date', startStr).lte('target_date', endStr);
      const busySet = new Set(busyDays?.map(x => x.target_date) || []);

      const grid = document.getElementById('calendar-grid');
      grid.innerHTML = '';

      // Headers
      ['Pt','Sa','√áa','Pe','Cu','Ct','Pz'].forEach(d => {
        grid.innerHTML += `<div class="cal-head">${d}</div>`;
      });

      const firstDay = new Date(y, m, 1).getDay(); // 0 is Sunday
      const prevSpaces = (firstDay + 6) % 7; // Convert to Mon-Sun
      const daysInMonth = new Date(y, m + 1, 0).getDate();

      for(let i=0; i<prevSpaces; i++) grid.innerHTML += `<div></div>`;

      for(let d=1; d<=daysInMonth; d++) {
        const currentDateStr = `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;
        const isToday = currentDateStr === formatDateKey(new Date());
        const hasTask = busySet.has(currentDateStr);
        
        const cell = document.createElement('div');
        cell.className = `cal-cell ${isToday ? 'today' : ''} ${hasTask ? 'has-task' : ''}`;
        cell.textContent = d;
        cell.onclick = () => {
          selectedDate = new Date(y, m, d);
          switchView('day', document.querySelectorAll('.nav-item')[0]);
        };
        grid.appendChild(cell);
      }
    }

    function changeMonth(delta) {
      selectedMonth.setMonth(selectedMonth.getMonth() + delta);
      renderMonthView();
    }

    // --- 3. INBOX VIEW ---
    async function renderInboxView() {
      const { data: tasks } = await supabase
        .from('tasks')
        .select('*')
        .is('target_date', null) // Tarihi olmayanlar
        .order('created_at', { ascending: false });

      const list = document.getElementById('inbox-list');
      list.innerHTML = '';
      if(tasks && tasks.length) tasks.forEach(t => list.appendChild(createTaskCard(t)));
      else list.innerHTML = '<div style="color:var(--muted); text-align:center;">Inbox bo≈ü.</div>';
    }

    // --- 4. HABITS VIEW ---
    async function renderHabitsView() {
      // 1. Alƒ±≈ükanlƒ±klarƒ± √ßek
      const { data: habits } = await supabase.from('habits').select('*');
      
      // 2. Bug√ºn√ºn loglarƒ±nƒ± √ßek
      const todayKey = formatDateKey(new Date());
      const { data: logs } = await supabase.from('habit_logs').select('habit_id').eq('date', todayKey);
      const doneSet = new Set(logs?.map(l => l.habit_id));

      const list = document.getElementById('habits-list');
      list.innerHTML = '';

      habits?.forEach(h => {
        const row = document.createElement('div');
        row.className = 'habit-row';
        const isDone = doneSet.has(h.id);
        
        row.innerHTML = `
          <div style="font-size:16px;">${h.name}</div>
          <button class="btn" style="width:auto; background: ${isDone ? 'var(--success)' : 'var(--card)'}; border:1px solid var(--line)"
             onclick="toggleHabit('${h.id}', ${!isDone})">
             ${isDone ? '‚úì' : 'Yap'}
          </button>
        `;
        list.appendChild(row);
      });

      // Ekleme butonu
      const addBtn = document.createElement('button');
      addBtn.className = 'btn secondary';
      addBtn.textContent = '+ Yeni Alƒ±≈ükanlƒ±k';
      addBtn.style.marginTop = '16px';
      addBtn.onclick = async () => {
        const name = prompt('Alƒ±≈ükanlƒ±k adƒ±:');
        if(name) {
          await supabase.from('habits').insert({ user_id: session.user.id, name });
          renderHabitsView();
        }
      };
      list.appendChild(addBtn);
    }

    async function toggleHabit(habitId, doCheck) {
      const todayKey = formatDateKey(new Date());
      if(doCheck) {
        await supabase.from('habit_logs').insert({ habit_id: habitId, date: todayKey });
      } else {
        await supabase.from('habit_logs').delete().eq('habit_id', habitId).eq('date', todayKey);
      }
      renderHabitsView();
    }

    // --- 5. TAGS VIEW ---
    function renderTagsView() {
       const list = document.getElementById('tags-list');
       list.innerHTML = '';
       globalTags.forEach(t => {
         const div = document.createElement('div');
         div.style.cssText = 'padding:12px; background:var(--card); margin-bottom:4px; border-radius:8px; display:flex; justify-content:space-between; align-items:center;';
         div.innerHTML = `
            <div style="display:flex; align-items:center; gap:8px;">
               <div style="width:12px; height:12px; border-radius:50%; background:${t.color}"></div>
               ${t.name}
            </div>
            <button onclick="removeTag('${t.id}')" style="background:transparent; border:none; color:var(--danger);">Sil</button>
         `;
         list.appendChild(div);
       });
    }

    async function addTag() {
      const name = document.getElementById('new-tag-name').value;
      const color = document.getElementById('new-tag-color').value;
      if(!name) return;
      await supabase.from('tags').insert({ user_id: session.user.id, name, color });
      document.getElementById('new-tag-name').value = '';
      loadAllData();
    }

    async function removeTag(id) {
       if(!confirm('Tag silinsin mi?')) return;
       await supabase.from('tags').delete().eq('id', id);
       loadAllData();
    }

    // --- ADD TASK MODAL ---
    function openAddModal() {
      document.getElementById('modal').style.display = 'flex';
      // Varsayƒ±lan tarih se√ßimi
      if(currentView === 'day') document.getElementById('m-date').value = formatDateKey(selectedDate);
      else if(currentView === 'inbox') document.getElementById('m-date').value = '';
      else document.getElementById('m-date').value = formatDateKey(new Date());
    }

    function closeModal() { document.getElementById('modal').style.display = 'none'; }

    async function saveTask() {
      const text = document.getElementById('m-text').value;
      const type = document.getElementById('m-type').value;
      const time = document.getElementById('m-time').value;
      const tag = document.getElementById('m-tag').value;
      const dateVal = document.getElementById('m-date').value; // Bo≈ü ise null gidecek (Brain Dump)

      if(!text) return;

      const payload = {
        user_id: session.user.id,
        text,
        type,
        time: time || null,
        tag: tag || null,
        target_date: dateVal || null // Supabase bunu NULL olarak alƒ±r
      };

      const { error } = await supabase.from('tasks').insert(payload);
      if(error) alert(error.message);
      
      closeModal();
      document.getElementById('m-text').value = '';
      loadAllData();
    }

    // --- AUTH ACTIONS ---
    async function signIn() {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const { error } = await supabase.auth.signInWithPassword({ email, password });
      if(error) document.getElementById('auth-msg').innerText = error.message;
    }
    
    async function signUp() {
      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;
      const { error } = await supabase.auth.signUp({ email, password });
      if(error) document.getElementById('auth-msg').innerText = error.message;
      else document.getElementById('auth-msg').innerText = "Kayƒ±t ba≈üarƒ±lƒ±! L√ºtfen mailini onayla veya giri≈ü yap.";
    }
    
    async function signOut() {
      await supabase.auth.signOut();
    }
  </script>
</body>
</html>
